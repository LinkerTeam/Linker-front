<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <!-- css초기화 시트 -->
    <link href="../css/common.css" type=text/css rel=stylesheet />
    <link href="../css/login.css" type=text/css rel=stylesheet />

</head>



<body>
    <div class="wap">
        <nav class="main-nav">
            <ul>
                <li>
                    <a class="login_btn" href="#0">로그인</a>
                </li>
                <li>
                    <a class="signup_btn" href="#0">회원가입</a>
                </li>
            </ul>
        </nav>
        <div class="user-modal">
            <div class="user-modal-container">
               <div id="box">
                <ul class="switcher">
                    <li>
                        <a class="login_btn1" href="#0">로그인</a>
                    </li>
                    <li>
                        <a class="signup_btn1" href="#0">회원가입</a>
                    </li>
                </ul>

                <div id="login">
                    <form class="form">
                        <p class="fieldset">
                            <i class="far fa-envelope"></i>
                            <label for="email"> Email </label>
                            <br>
                            <input type="text" class="email" placeholder="Email">
                            <span class="error-message"><i class="far fa-envelope"></i>이메일 잘못입력</span>
                        </p>

                        <p class="fieldset">
                            <i class="fas fa-unlock-alt"></i>
                            <label for="email"> Password </label>
                            <Br>
                            <input type="password" class="password" placeholder="Password">
                            <a href="#0" class="hide-password"  id="password1">보이기</a>

                            <span class="error-message">암호 잘못입력</span>
                        </p>

                        <p class="fieldset agree">
                           <input type="checkbox" class="checkbox" checked>
                            <a>Remember me</a>

                        </p>


                        <p class="fieldset">
                            <button type="submit" value="Login">Login</button>
                        </p>
                    </form>
                    <p class="form-bottom-message">
                        <a href="#0">Forgot your password?</a>
                    </p>
                </div>


                <div id="signup">

                    <form class="form">

                        <p class="fieldset">
                            <i class="far fa-user"></i>
                            <label for="nickname"> Nickname </label>
                            <input type="text" class="nickname" placeholder="Nickname">
                            <span class="error-message">이메일 잘못입력</span>

                        </p class="fieldset">

                        <p class="fieldset">
                            <i class="far fa-envelope"></i>
                            <label for="email"> Email </label>
                            <input type="text" class="email" placeholder="Email">
                            <span class="error-message">이메일 잘못입력</span>

                        </p>

                        <p class="fieldset" id="lastinput">
                            <i class="fas fa-unlock-alt"></i>
                            <label for="email"> Password </label>
                            <input type="password" class="password" placeholder="Password">
                            <a href="#0" class="hide-password" id="password2" >보이기</a>
                            <span class="error-message">이메일 잘못입력</span>
                            
                            <p class="fieldset agree">
                            <input type="checkbox" id="accept-terms">
                            I agree to the Terms
                                </p>
                        </p>
                        <p class="fieldset">
                            <button type="submit">New account</button>
                        </p>

                    </form>
                </div>
             
            <div id="reset-password">
                    <p class="form-message">비밀번호를 잃어 버렸습니까? 이메일 주소를 넣어주세요.</br> 새로운 비밀번호를 지정해 주세요.</p>
    
                    <form class="form">
                        <p class="fieldset">
                            <i class="far fa-envelope" id="mail"></i>
                            <label class="image-replace email" for="reset-email">E-mail</label>
                            <input class="full-width has-padding has-border" id="reset-email" type="email" placeholder="E-mail">
                            <span class="error-message">An account with this email does not exist!</span>
                        </p>
    
                        <p class="fieldset">
                            <input class="full-width has-padding input" type="submit" value="Reset password">
                        </p>
                    </form>
    
                    <p class="form-bottom-message" ><a href="#0" id="back">Back to log-in</a></p>
                </div>

          
        </div>
         
        </div>
        </div>
    </div>

    <script>
        window.onload = function () {

            var button = document.getElementsByClassName('login_btn');
            var modal = document.getElementsByClassName('user-modal');
            var box = document.getElementsByClassName('user-modal-container');
            var id = document.getElementById('login');
            var signup = document.getElementById('signup');
            var signupbtn = document.getElementsByClassName('signup_btn')
            var btn = document.getElementsByClassName('login_btn1');
            var signupbtn2 = document.getElementsByClassName('signup_btn1')
            var reset=document.getElementById('reset-password');
            var forget=document.getElementsByClassName('form-bottom-message');
           
            console.log(button);

            button[0].onclick = function () {
                console.log("1");
               
                if (signup.style.display = "none") {
                    modal[0].style.display = "block";
                    id.style.display = "block";
                    id.style.background = "white";
                    btn[0].style.backgroundColor = "white";
                    reset.style.display="none";
                    if(signupbtn2[0].style.backgroundColor = "white"){
                    signupbtn2[0].style.backgroundColor = "lightgray";
                  }
                   }
               
            };


            signupbtn[0].onclick = function () {
              
                if (id.style.display = "none") {
                    modal[0].style.display = "block";
                    signup.style.display = "block";
                    signupbtn2[0].style.backgroundColor = "white";
                    reset.style.display="none";
                     if(btn[0].style.backgroundColor = "white"){
                     btn[0].style.backgroundColor = "lightgray";
                }
                 }
            }

            btn[0].onclick = function () {
                modal[0].style.display = "block";
                if (signup.style.display = "none") {
                    id.style.display = "block";
                    reset.style.display="none";
                }
                this.style.backgroundColor = "white";
                if (signupbtn2[0].style.backgroundColor = "white") {
                    signupbtn2[0].style.backgroundColor = "lightgray";
                    reset.style.display="none";
                }
            };


            signupbtn2[0].onclick = function () {
                if (id.style.display = "none") {
                    signup.style.display = "block";
                 
                    if (this.style.backgroundColor = "white")
                        this.style.backgroundColor = "white";
                        reset.style.display="none";
                 
                    if (btn[0].style.backgroundColor = "white") {
                        btn[0].style.backgroundColor = "lightgray"
                        reset.style.display="none";
                    }
                }
            }
            forget[0].onclick =function(){
                reset.style.display="block";
                
                id.style.display = "none";
            }
            forget[1].onclick=function(){
                reset.style.display="none";
                id.style.display = "block";

            }
            
            // 모달 close 이벤트 if문에 자기자신 클릭시에만 이벤트를 발생하게 한다.
            $('.user-modal').on('click', function(e){
                if ($(e.target).hasClass("user-modal")) { 
                    modal[0].style.display = "none";        
                }
            });

            //모달 close esc를 누르면 나오게된다. keycode에서 27은 esc이다.
            $(document).keyup(function(event){
                        if(event.which=='27'){
                            modal[0].style.display = "none";        
                        }
                      });
             
             var password = document.getElementsByClassName('password');
             var passwordhide = document.getElementsByClassName('hide-password');
         
           
           
           // SHow 버튼을 누르면 비밀번호가 text 타입이 돼었다가 password타입으로 변함
             passwordhide[0].addEventListener("click",function(){        
                     
                     if(password[0].getAttribute('type')=="password"){
                     password[0].setAttribute("type","text");
                     $('.hide-password').text('감추기');
                    
                    } else{
                        password[0].setAttribute("type","password");
                        $('.hide-password').text('보이기');
                    }
                    });
                    passwordhide[1].addEventListener("click",function(){        
                     
                     if(password[1].getAttribute('type')=="password"){
                     password[1].setAttribute("type","text");
                     $('.hide-password').text('감추기');
                    } else{
                        password[1].setAttribute("type","password");
                        $('.hide-password').text('보이기');
                    }
                    });
        }

       

// Get the image and insert it inside the modal - use its "alt" text as a caption



    </script>
</body>

</html>